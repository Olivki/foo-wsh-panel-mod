// vi:set ft=javascript ff=dos ts=4 sts=4 sw=4 et:

// This is a demo show how on_metadb_changed(metadb, fromhook), 
// window.WatchMetadb(metadb)  and window.UnWatchMetadb() works.

// Get a handle from startup
var g_handle = fb.GetFocusItem();

// Watch the metadb
window.WatchMetadb(g_handle);

// Unwatch

function on_mouse_lbtn_up(x, y, mask) {
    window.UnWatchMetadb();
}

// Callback

function on_metadb_changed(metadb, fromhook) {
    fb.ShowPopupMessage("metadb changed");
}